"""Check that the version in ``pyproject.toml`` and ``__init__.py`` coincide."""

import importlib.metadata
import sys

import {{ module_name }}


def main() -> None:
    """Execute the main routine."""
    init_version = {{ module_name }}.__version__

    pyproject_toml_version = importlib.metadata.version("{{ project_name }}")

    if init_version != pyproject_toml_version:
        print(
            f"The version in {{ "{" }}{{ module_name }}.__file__{{ "}" }} is: {init_version!r}, "
            f"but the version in pyproject.toml is: {pyproject_toml_version!r}",
            file=sys.stderr,
        )
        sys.exit(1)


if __name__ == "__main__":
    main()
